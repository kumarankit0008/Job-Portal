{"version":3,"file":"static/js/742.3c123e9a.chunk.js","mappings":"wNACMA,EAAa,CACjBC,KAAM,SAEKC,EAAqBC,EAAAA,EAAAA,gBAA0B,CAC1DC,UAAW,SAACC,GAAD,MAAc,CACvBC,gBAAiBD,EAAQE,SAAS,CAChCC,MAAO,SAACC,GAAD,MAAW,CAChBC,IAAI,4BACJC,OAAQ,OACRC,QAASZ,EACTa,KAAM,CACJJ,KAAAA,GALG,IASTK,oBAAqBT,EAAQE,SAAS,CACpCC,MAAO,kBAA2C,CAChDE,IAAI,iCACJC,OAAQ,OACRE,KAAM,CACJE,MAJG,EAAGA,MAKNC,cALG,EAAUA,cAMbC,WANG,EAAyBA,YAAzB,IAUTC,uBAAwBb,EAAQE,SAAS,CACvCC,MAAO,kBAAgB,CACrBE,IAAI,yCACJC,OAAQ,OACRE,KAAM,CACJE,MAJG,EAAGA,OAAH,IAvBA,IAmCXI,EAGEjB,EAHFiB,2BACAC,EAEElB,EAFFkB,kCACAC,EACEnB,EADFmB,8B,2FCEF,UAxCwB,WACtB,OACED,EAAAA,EAAAA,MADF,eAAOF,EAAP,YAAiCI,EAAjC,EAAiCA,UAAWC,EAA5C,EAA4CA,QAASC,EAArD,EAAqDA,UAE7CT,GAAUU,EAAAA,EAAAA,MAAVV,MAqBR,OApBAW,EAAAA,EAAAA,YAAU,WACJX,GACFG,EAAuB,CACrBH,MAAAA,GAGL,GAAE,CAACG,EAAwBH,KAE5BW,EAAAA,EAAAA,YAAU,WACJH,IAAYD,GACdK,EAAAA,GAAAA,MAAY,qBAAsB,CAChCC,QAAS,qBAGTJ,GAAcF,GAAcC,GAC9BI,EAAAA,GAAAA,QAAc,0BAA2B,CACvCC,QAAS,qBAGd,GAAE,CAACJ,EAAWD,EAASD,KAEtB,gCACGA,IACC,gBAAKO,UAAU,2DAAf,wBAIDL,IACC,gBAAKK,UAAU,gEAAf,2CAMP,C","sources":["features/emailCampaignSlice/emailCampaignSlice.js","pages/emailNewsletter/EmailNewsLetter.js"],"sourcesContent":["import { APIsSlice } from \"../APIs/APIsSlice\";\nconst roleHeader = {\n  role: \"admin\",\n};\nexport const emailCampaignSlice = APIsSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    singleEmailSend: builder.mutation({\n      query: (data) => ({\n        url: `/api/email-campaign/email`,\n        method: \"POST\",\n        headers: roleHeader,\n        body: {\n          data,\n        },\n      }),\n    }),\n    emailNewsLetterSent: builder.mutation({\n      query: ({ email, email_subject, email_body }) => ({\n        url: `/api/email-campaign/email-sent`,\n        method: \"POST\",\n        body: {\n          email,\n          email_subject,\n          email_body,\n        },\n      }),\n    }),\n    emailNewsLetterConfirm: builder.mutation({\n      query: ({ email }) => ({\n        url: `/api/email-campaign/email-confirmation`,\n        method: \"POST\",\n        body: {\n          email,\n        },\n      }),\n    }),\n  }),\n});\n\nexport const {\n  useSingleEmailSendMutation,\n  useEmailNewsLetterConfirmMutation,\n  useEmailNewsLetterSentMutation,\n} = emailCampaignSlice;\n","import React, { useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useEmailNewsLetterConfirmMutation } from \"../../features/emailCampaignSlice/emailCampaignSlice\";\nimport { useParams } from \"react-router-dom\";\nconst EmailNewsLetter = () => {\n  const [emailNewsLetterConfirm, { isLoading, isError, isSuccess }] =\n    useEmailNewsLetterConfirmMutation();\n  const { email } = useParams();\n  useEffect(() => {\n    if (email) {\n      emailNewsLetterConfirm({\n        email,\n      });\n    }\n  }, [emailNewsLetterConfirm, email]);\n\n  useEffect(() => {\n    if (isError && !isLoading) {\n      toast.error(\"Email is not valid\", {\n        toastId: \"newsletterError\",\n      });\n    }\n    if (isSuccess && !isLoading && !isError) {\n      toast.success(\"Email Save Successfully\", {\n        toastId: \"newsletterSuccess\",\n      });\n    }\n  }, [isSuccess, isError, isLoading]);\n  return (\n    <>\n      {isLoading && (\n        <div className=\"animate-pulse bg-gray-300 text-center text-2xl font-bold\">\n          Loading...\n        </div>\n      )}\n      {isSuccess && (\n        <div className=\"animate-pulse bg-green-300 text-center text-xl py-3 font-bold\">\n          You can close this page now\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default EmailNewsLetter;\n"],"names":["roleHeader","role","emailCampaignSlice","APIsSlice","endpoints","builder","singleEmailSend","mutation","query","data","url","method","headers","body","emailNewsLetterSent","email","email_subject","email_body","emailNewsLetterConfirm","useSingleEmailSendMutation","useEmailNewsLetterConfirmMutation","useEmailNewsLetterSentMutation","isLoading","isError","isSuccess","useParams","useEffect","toast","toastId","className"],"sourceRoot":""}