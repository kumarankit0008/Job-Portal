"use strict";(self.webpackChunktalent_recruiter=self.webpackChunktalent_recruiter||[]).push([[5662],{6500:function(e,t,r){r.d(t,{Du:function(){return d},U3:function(){return u},cv:function(){return a},i4:function(){return c},s7:function(){return i}});var o=r(9276),n={role:"admin"},s=o.q.injectEndpoints({endpoints:function(e){return{getBlogPosts:e.query({query:function(e){var t=e.chunkLimit,r=void 0===t?0:t,o=e.limit,n=void 0===o?0:o;return"/api/blogs/posts?chunkLimit=".concat(r||0,"&limit=").concat(n||0)},providesTags:["blogPosts"]}),addBlogPost:e.mutation({query:function(e){return{url:"/api/blogs/add-blog",method:"POST",body:e}},invalidatesTags:["blogPosts"]}),deleteBlogPost:e.mutation({query:function(e){return{url:"/api/blogs/delete/".concat(e),method:"DELETE",headers:n}},invalidatesTags:["blogPosts"]}),getBlogPost:e.query({query:function(e){var t=e.id;return{url:"/api/blogs/post/".concat(t),method:"GET"}}}),updateBlogPost:e.mutation({query:function(e){var t=e.id,r=e.body;return{url:"/api/blogs/update/".concat(t),method:"PATCH",headers:n,body:r}},invalidatesTags:["blogPosts"]})}}}),a=s.useGetBlogPostsQuery,i=s.useGetBlogPostQuery,u=s.useAddBlogPostMutation,c=s.useDeleteBlogPostMutation,d=s.useUpdateBlogPostMutation},5662:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var o=r(4165),n=r(5861),s=r(885),a=r(2791),i=r(7689),u=r(9085),c=r(6500),d=function(){var e=(0,n.Z)((0,o.Z)().mark((function e(t){var r,n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"f26a8878d26810881658787352cb5dcd",r="https://api.imgbb.com/1/upload?key=".concat("f26a8878d26810881658787352cb5dcd"),e.next=5,fetch(r,{method:"POST",body:t});case 5:return n=e.sent,e.next=8,n.json();case 8:return s=e.sent,e.abrupt("return",s.data.display_url);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),l=d,p=r(184),g=function(e){var t=e.titleInput,r=e.author,o=e.description,n=e.fileImg,s=e.category;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"block p-2 rounded-lg shadow-lg bg-white ",children:[(0,p.jsx)("h2",{className:"text-2xl text-center text-gray-600 my-4",children:"Preview"}),t&&(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("h2",{type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",children:t})}),r&&(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("h2",{type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",children:r})}),s&&(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("h2",{type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",children:s})}),n&&(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("img",{src:n||URL.createObjectURL(n),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",alt:"post img"})}),o&&(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("p",{className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",children:o})})]})})},b=function(){var e=((0,i.UO)()||{}).id,t=(0,c.s7)(e?{id:e}:{},{skip:!e}),r=t.isLoading,d=t.error,b=t.data,f=(null===b||void 0===b?void 0:b.post)||{},m=f.post_author,x=f.post_category,h=f.post_title,y=f.post_description,v=f.post_image,w=(0,a.useState)(""),j=(0,s.Z)(w,2),k=j[0],N=j[1],P=(0,a.useState)(""),_=(0,s.Z)(P,2),Z=_[0],q=_[1],B=(0,a.useState)(""),E=(0,s.Z)(B,2),L=E[0],T=E[1],C=(0,a.useState)(""),S=(0,s.Z)(C,2),U=S[0],A=S[1],D=(0,a.useState)(!1),I=(0,s.Z)(D,2),M=I[0],O=I[1],R=(0,a.useState)(""),G=(0,s.Z)(R,2),F=G[0],Q=G[1],z=(0,a.useRef)(),H=(0,c.U3)(),W=(0,s.Z)(H,2),X=W[0],J=W[1],K=J.isError,V=J.error,Y=J.isLoading,$=J.data,ee=(0,c.Du)(),te=(0,s.Z)(ee,2),re=te[0],oe=te[1];oe.isLoading,oe.error,oe.data;(0,a.useEffect)((function(){e?(N(h),q(y),T(m),A(x),Q(v)):ne()}),[e,m,x,y,h,v]);var ne=function(){N(""),q(""),T(""),A(""),Q(""),z.current.value=""};(0,a.useEffect)((function(){(K||d)&&u.Am.error("Error ".concat(V),{toastId:"error"}),null!==$&&void 0!==$&&$.success&&(ne(),u.Am.success("Post added successfully",{toastId:"success"}))}),[null===$||void 0===$?void 0:$.success,K,null===V||void 0===V?void 0:V.message,d,V]);var se=function(){var t=(0,n.Z)((0,o.Z)().mark((function t(r){var n,s,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),O(!0),(n=new FormData).append("image",F),t.next=6,l(n);case 6:if(s=t.sent,O(!1),!s||e){t.next=13;break}return t.next=11,X({post_title:k,post_description:Z,post_image:s,post_author:L,post_category:U});case 11:t.next=16;break;case 13:return a={post_title:k,post_description:Z,post_image:s,post_author:L,post_category:U},t.next=16,re({id:e,body:a});case 16:ne();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4 mx-3 h-screen",children:[(0,p.jsx)("div",{className:"block p-2 rounded-lg shadow-lg bg-white ",children:(0,p.jsxs)("form",{onSubmit:se,encType:"multipart/form-data",children:[(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("input",{required:!e,value:k,onChange:function(e){return N(e.target.value)},type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",placeholder:"Enter post title"})}),(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("input",{required:!e,value:L,onChange:function(e){return T(e.target.value)},type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",placeholder:"Author name"})}),(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("input",{required:!e,value:U,onChange:function(e){return A(e.target.value)},type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",placeholder:"Category name"})}),(0,p.jsxs)("div",{className:"flex items-center mb-6",children:[(0,p.jsx)("input",{required:!e,ref:z,accept:"image/*",name:"image",onChange:function(e){return Q(e.target.files[0])},type:"file",className:"form-control block cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none"}),(0,p.jsx)("div",{className:"tooltip","data-tip":"Recommended 600px X 600 px",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current flex-shrink-0 w-6 h-6 mx-3 cursor-pointer",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,p.jsx)("div",{className:" mb-6",children:(0,p.jsx)("textarea",{value:Z,required:!e,onChange:function(e){return q(e.target.value)},className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-primary focus:outline-none",placeholder:"Enter post description",rows:6})}),(0,p.jsx)("button",{disabled:M||Y,type:"submit",className:"".concat((M||Y)&&"cursor-wait btn-success"," btn btn-primary"),children:r||M||Y?"Loading...":e?"Update Post":"Add Post"})]})}),(k||L||Z||F||U)&&(0,p.jsx)(g,{titleInput:k,author:L,description:Z,fileImg:F,category:U})]})}}}]);
//# sourceMappingURL=5662.298fee13.chunk.js.map