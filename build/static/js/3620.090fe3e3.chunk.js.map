{"version":3,"file":"static/js/3620.090fe3e3.chunk.js","mappings":"yNACMA,EAAa,CACjBC,KAAM,SAEKC,EAAcC,EAAAA,EAAAA,gBAA0B,CACnDC,UAAW,SAACC,GAAD,MAAc,CACvBC,YAAaD,EAAQE,MAAM,CACzBA,MAAO,iBAAO,CACZC,IAAK,6BACLC,OAAQ,MAFH,EAIPC,aAAc,CAAC,cAEjBC,YAAaN,EAAQO,SAAS,CAC5BL,MAAO,gBAAGM,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAb,MAA2B,CAChCN,IAAK,6BACLC,OAAQ,OACRM,QAASf,EACTgB,KAAM,CAAEH,SAAAA,EAAUC,OAAAA,GAJb,EAMPG,gBAAiB,CAAC,cAEpBC,eAAgBb,EAAQO,SAAS,CAC/BL,MAAO,SAACY,GAAD,MAAS,CACdX,IAAI,wBAAD,OAA0BW,GAC7BV,OAAQ,SACRM,QAASf,EAHJ,EAKPiB,gBAAiB,CAAC,cAvBX,IA6BXG,EAGElB,EAHFkB,oBACAC,EAEEnB,EAFFmB,uBACAC,EACEpB,EADFoB,yB,qGC+DF,UA1F4B,WAAO,IAAD,IAoB5BC,EAnBJ,GAAmCH,EAAAA,EAAAA,MAA3BI,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,KAAMC,EAAzB,EAAyBA,MACzB,GAGIJ,EAAAA,EAAAA,MAHJ,eACEJ,EADF,YAEeS,EAFf,EAEIH,UAA0BI,EAF9B,EAE8BA,UAAoBC,EAFlD,EAEyCC,QA0EzC,OAxEAC,EAAAA,EAAAA,YAAU,WACJH,GACFI,EAAAA,GAAAA,QAAc,mBAAoB,CAChCC,QAAS,0BAGTJ,GACFG,EAAAA,GAAAA,QAAc,wBAAyB,CACrCC,QAAS,SAGd,GAAE,CAACL,EAAWC,IAIXL,EACFD,GACE,iCACE,eAAIW,UAAU,gBAAd,UACE,qBACEA,UAAU,kCACVC,MAAM,MACNC,IAAI,WAGR,eAAIF,UAAU,gBAAd,UACE,qBACEA,UAAU,kCACVC,MAAM,MACNC,IAAI,aAKHV,EACTM,EAAAA,GAAAA,MAAY,uBAAwB,CAClCC,QAAS,UAE6B,KAA3B,OAAJR,QAAI,IAAJA,GAAA,UAAAA,EAAMY,oBAAN,eAAoBC,QAC7Bf,GACE,eAAIW,UAAU,sBAAd,UACE,eAAIA,UAAU,2BAAd,oCAGC,OAAIT,QAAJ,IAAIA,GAAAA,EAAMY,eACfd,EAAUE,EAAKY,aAAaE,KAAI,SAACC,GAAD,OAC9B,yBACE,6BACE,mBACEN,UAAU,MACVO,SAAUd,EACVe,QAAS,kBAAMxB,EAAesB,EAAKG,IAA1B,EAHX,SAKGhB,GACC,SAAC,KAAD,CACEiB,OAAO,KACPC,MAAM,KACNC,UAAU,uBACVC,aAAc,CAAC,EACfC,iBAAiB,uBACjBC,YAAY,UACZC,SAAS,aAGX,SAAC,MAAD,CAAkBC,KAAM,OAElB,IACTX,EAAK3B,aArBD2B,EAAKG,IADgB,MA4BhC,iCACE,gBAAIT,UAAU,uCAAd,oCACmBT,QADnB,IACmBA,GADnB,UACmBA,EAAMY,oBADzB,aACmB,EAAoBC,WAEvC,eAAIJ,UAAU,gGAAd,SACGX,MAIR,C","sources":["features/category/categoryApi.js","pages/adminPage/adminSubPages/AdminDeleteCategory.js"],"sourcesContent":["import { APIsSlice } from \"../APIs/APIsSlice\";\nconst roleHeader = {\n  role: \"admin\",\n};\nexport const categoryAPI = APIsSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    getCategory: builder.query({\n      query: () => ({\n        url: \"/api/category/all-category\",\n        method: \"GET\",\n      }),\n      providesTags: [\"category\"],\n    }),\n    addCategory: builder.mutation({\n      query: ({ category, status }) => ({\n        url: \"/api/category/add-category\",\n        method: \"POST\",\n        headers: roleHeader,\n        body: { category, status },\n      }),\n      invalidatesTags: [\"category\"],\n    }),\n    deleteCategory: builder.mutation({\n      query: (id) => ({\n        url: `/api/category/delete/${id}`,\n        method: \"DELETE\",\n        headers: roleHeader,\n      }),\n      invalidatesTags: [\"category\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetCategoryQuery,\n  useAddCategoryMutation,\n  useDeleteCategoryMutation,\n} = categoryAPI;\n","import React, { useEffect } from \"react\";\nimport { RiDeleteBin2Line } from \"react-icons/ri\";\nimport { ProgressBar } from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\nimport {\n  useDeleteCategoryMutation,\n  useGetCategoryQuery,\n} from \"../../../features/category/categoryApi\";\n\nconst AdminDeleteCategory = () => {\n  const { isLoading, data, error } = useGetCategoryQuery();\n  const [\n    deleteCategory,\n    { isLoading: deleteLoading, isSuccess, isError: deleteError },\n  ] = useDeleteCategoryMutation();\n  useEffect(() => {\n    if (isSuccess) {\n      toast.success(\"Category deleted\", {\n        toastId: \"deleteCategorySuccess\",\n      });\n    }\n    if (deleteError) {\n      toast.dismiss(\"delete Category Error\", {\n        toastId: \"error\",\n      });\n    }\n  }, [isSuccess, deleteError]);\n\n  // decide what to show based on the state\n  let content;\n  if (isLoading) {\n    content = (\n      <>\n        <li className=\"animate-pulse\">\n          <progress\n            className=\"progress h-12 bg-success w-full\"\n            value=\"100\"\n            max=\"100\"\n          ></progress>\n        </li>\n        <li className=\"animate-pulse\">\n          <progress\n            className=\"progress h-12 bg-success w-full\"\n            value=\"100\"\n            max=\"100\"\n          ></progress>\n        </li>\n      </>\n    );\n  } else if (error) {\n    toast.error(\"something went wrong\", {\n      toastId: \"error\",\n    });\n  } else if (data?.all_category?.length === 0) {\n    content = (\n      <li className=\"flex flex-col gap-4\">\n        <h2 className=\"text-red-500 text-center\">There is no Category</h2>\n      </li>\n    );\n  } else if (data?.all_category) {\n    content = data.all_category.map((item) => (\n      <li key={item._id}>\n        <span>\n          <button\n            className=\"btn\"\n            disabled={deleteLoading}\n            onClick={() => deleteCategory(item._id)}\n          >\n            {deleteLoading ? (\n              <ProgressBar\n                height=\"40\"\n                width=\"80\"\n                ariaLabel=\"progress-bar-loading\"\n                wrapperStyle={{}}\n                wrapperclassName=\"progress-bar-wrapper\"\n                borderColor=\"#F4442E\"\n                barColor=\"#51E5FF\"\n              />\n            ) : (\n              <RiDeleteBin2Line size={25} />\n            )}\n          </button>{\" \"}\n          {item.category}\n        </span>\n      </li>\n    ));\n  }\n  return (\n    <>\n      <h1 className=\"text-center text-2xl capitalize my-4\">\n        delete category {data?.all_category?.length}\n      </h1>\n      <ul className=\"menu grid md:grid-cols-2 gap-4 grid-cols-1 menu-compact lg:menu-normal w-full p-2 rounded-box\">\n        {content}\n      </ul>\n    </>\n  );\n};\n\nexport default AdminDeleteCategory;\n"],"names":["roleHeader","role","categoryAPI","APIsSlice","endpoints","builder","getCategory","query","url","method","providesTags","addCategory","mutation","category","status","headers","body","invalidatesTags","deleteCategory","id","useGetCategoryQuery","useAddCategoryMutation","useDeleteCategoryMutation","content","isLoading","data","error","deleteLoading","isSuccess","deleteError","isError","useEffect","toast","toastId","className","value","max","all_category","length","map","item","disabled","onClick","_id","height","width","ariaLabel","wrapperStyle","wrapperclassName","borderColor","barColor","size"],"sourceRoot":""}